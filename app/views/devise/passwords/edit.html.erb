<div class="change-password">
  <div class="row">
    <div class="large-6 large-offset-3 small-8 small-offset-1 columns">
      <h3>Reset your password</h3>
        <%= form_for(resource, :as => resource_name, :url => password_path(resource_name), class: 'myform', :html => { :method => :put }) do |f| %>
        <%= devise_error_messages! %>
        <%= f.hidden_field :reset_password_token %>

        <div class="field">
          <%= f.password_field :password, :autofocus => true, placeholder: "New password" %>
        </div>
        <br/>
        <div class="field">
          <%= f.password_field :password_confirmation, placeholder: "Confirm password" %>
        </div>

        <div class="action"><%= f.submit "Reset password", class: 'btn gray', id: "change-password-button" %></div>

      <% end %>
      <p>Reset password not working? <%= link_to_modal "Try sending it again", new_user_password_path %>
    </div>
  </div>
</div>

<script>

$(document).ready(function(){
 
  var checkFields = function() {
    if($('#user_password').val().length > 0 &&
      $('#user_password_confirmation').val().length > 0) {
          $('#new_user input[type=submit]').addClass('green');
      } else {
          $('#new_user input[type=submit]').removeClass('green');
      }
  }

  $('#new_user input').keyup(function(){
      checkFields();
  });

});
</script>